<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Mongo-django by hitenpratap</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>Mongo-django</h1>
        <h2>It&#39;s just a sample project which shows how to use mongodb with Django.</h2>
        <a href="https://github.com/hitenpratap/mongo-django" class="button"><small>View project on</small>GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <p>It's a simple post which explain how to run mongoDB with Django. We all know that Django is by default compatible with MySQL. But we ca easily extend Django functionality to support mongoDB with it. MongoDB is very popular and powerful database today and we can leverage its powerful feature with Django easily.</p>

<h3>
<a name="install-mongoengine" class="anchor" href="#install-mongoengine"><span class="octicon octicon-link"></span></a>Install MongoEngine</h3>

<p>MongoEngine is an Object-Document Mapper made for MongoDB, following Django's ORM style.</p>

<pre><code>sudo pip install mongoengine==0.8.0
</code></pre>

<h3>
<a name="changes-in-settingspy" class="anchor" href="#changes-in-settingspy"><span class="octicon octicon-link"></span></a>Changes in settings.py</h3>

<ol>
<li>Comment your <strong>DATABASE </strong>settings block as it's not needed anymore.</li>
    <li>Add below code anywhere in the file to support mongoDB</li>
</ol><pre><code>AUTHENTICATION_BACKENDS = (
    'mongoengine.django.auth.MongoEngineBackend',
)

SESSION_ENGINE = 'mongoengine.django.sessions'

MONGO_DATABASE_NAME = 'testDB' //can be anything

from mongoengine import connect
connect(MONGO_DATABASE_NAME)
</code></pre>

<h3>
<a name="sample-modelspy-code" class="anchor" href="#sample-modelspy-code"><span class="octicon octicon-link"></span></a>Sample models.py code</h3>

<pre><code>from datetime import datetime
from mongoengine import *
from mongoengine.django.auth import User
from django.core.urlresolvers import reverse

class Post(Document):
    user = ReferenceField(User, reverse_delete_rule=CASCADE)
    title = StringField(max_length=200, required=True)
    text = StringField(required=True)
    text_length = IntField()
    date_modified = DateTimeField(default=datetime.now)
    is_published = BooleanField()

    def __unicode__(self):
        return self.title

    def save(self, *args, **kwargs):
        self.text_length = len(self.text)
        return super(Post, self).save(*args, **kwargs)

    def get_absolute_url(self):
        return reverse('detail', args=[self.id])

    def get_edit_url(self):
        return reverse('update', args=[self.id])

    def get_delete_url(self):
        return reverse('delete', args=[self.id])
</code></pre>

<h3>
<a name="authors-and-contributors" class="anchor" href="#authors-and-contributors"><span class="octicon octicon-link"></span></a>Authors and Contributors</h3>

<p>Created by <a href="https://github.com/hitenpratap" class="user-mention">@hitenpratap</a> </p>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/hitenpratap/mongo-django/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/hitenpratap/mongo-django/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/hitenpratap/mongo-django"></a> is maintained by <a href="https://github.com/hitenpratap">hitenpratap</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

  
  </body>
</html>